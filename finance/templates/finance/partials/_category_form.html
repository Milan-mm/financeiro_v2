<form
  method="post"
  hx-post="{% if category %}{% url 'finance:category-edit' category.id %}{% else %}{% url 'finance:category-create' %}{% endif %}"
  hx-target="#category-table"
  hx-swap="innerHTML"
>
  {% csrf_token %}
  <div class="p-4">
    <h2 class="h5 fw-semibold mb-3">{% if category %}Editar categoria{% else %}Nova categoria{% endif %}</h2>
    <div class="mb-3">
      {{ form.name.label_tag }}
      {{ form.name }}
      {% for error in form.name.errors %}
        <div class="text-danger small">{{ error }}</div>
      {% endfor %}
    </div>
<div class="mb-3">
  {{ form.color.label_tag }}

  <div class="d-flex align-items-center gap-2">
    {{ form.color }}

    <button
      type="button"
      class="btn btn-outline-secondary btn-sm"
      onclick="setRandomCategoryColor()"
      title="Gerar cor aleatÃ³ria"
    >
      ðŸŽ² AleatÃ³ria
    </button>
  </div>

  {% for error in form.color.errors %}
    <div class="text-danger small">{{ error }}</div>
  {% endfor %}
</div>
    <div class="mb-3">
      {{ form.ordering.label_tag }}
      {{ form.ordering }}
      {% for error in form.ordering.errors %}
        <div class="text-danger small">{{ error }}</div>
      {% endfor %}
    </div>
    <div class="form-check form-switch mb-4">
      {{ form.is_active }}
      {{ form.is_active.label_tag }}
    </div>
    {% if form.non_field_errors %}
      <div class="text-danger small mb-3">
        {{ form.non_field_errors }}
      </div>
    {% endif %}
  </div>
  <div class="border-top p-3 d-flex justify-content-end gap-2">
    <button type="button" class="btn btn-light" onclick="document.getElementById('modal-root').close();">Cancelar</button>
    <button type="submit" class="btn btn-primary">Salvar</button>
  </div>
</form>
