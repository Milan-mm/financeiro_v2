{% extends "base.html" %}

{% block title %}Importar fatura{% endblock %}

{% block content %}
  <div class="dashboard-layout">
    {% include "partials/nav.html" %}

    <main class="main-content">
      <div class="container-xxl py-4">
        <header class="mb-4">
          <p class="text-uppercase text-muted fw-semibold small mb-1">Importador</p>
          <h1 class="h3 fw-bold mb-1">Importar fatura</h1>
          <p class="text-muted mb-0">Cole o texto e deixe a IA sugerir as compras.</p>
        </header>

        <section class="card border-0 shadow-sm">
          <div class="card-body">
            <form method="post" action="{% url 'finance:import-parse' %}">
              {% csrf_token %}
              <div class="mb-3">
                {{ form.card.label_tag }}
                {{ form.card }}
              </div>
              <div class="mb-3">
                {{ form.months_ahead.label_tag }}
                {{ form.months_ahead }}
              </div>
              <div class="mb-3">
                {{ form.source_text.label_tag }}
                {{ form.source_text }}
                {% for error in form.source_text.errors %}
                  <div class="text-danger small">{{ error }}</div>
                {% endfor %}
              </div>
              <button type="submit" class="btn btn-primary">Analisar</button>
            </form>
          </div>
        </section>
      </div>
    </main>
  </div>
{% endblock %}
